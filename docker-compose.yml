version: '3.8'

services:
  rag-backend:
    build: .
    image: rag-backend:latest
    container_name: rag-backend
    environment:
      - APP_NAME=RAG Backend
      - DEBUG=False
      - GROQ_API_KEY=${GROQ_API_KEY}
      - DATABASE_URL=sqlite:///./rag_backend.db
      - PDF_PARSER_HOST=localhost
      - PDF_PARSER_PORT=8000
      - DATAPREP_HOST=localhost
      - DATAPREP_PORT=5000
      - RETRIEVER_HOST=localhost
      - RETRIEVER_PORT=7000
      - QDRANT_HOST=localhost
      - QDRANT_PORT=6333
    network_mode: host
    restart: unless-stopped
